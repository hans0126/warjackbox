<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <div>
        <button onclick="changeDisplayMode(0)">Single</button>
        <button onclick="changeDisplayMode(1)">Double</button>
    </div>
    <div id="c"></div>
    <div>
        <button onclick='gb("disabled")'>Disabled</button>
        <button onclick='gb("enabled")'>Enabled</button>
    </div>
    <div>
        <button onclick='gb("C")'>C</button>
        <button onclick='gb("S")'>S</button>
        <button onclick='gb("M")'>M</button>
        <button onclick='gb("L")'>L</button>
        <button onclick='gb("R")'>R</button>
        <button onclick='gb("G")'>G</button>
        <button onclick='gb("I")'>I</button>
    </div>
    <div>
        <button onclick='resetTb()'>Reset</button>
        <label>
            <input type="checkbox" onchange="changeMode(this)" /> mirror mode
        </label>
    </div>
    <div>
        <label>
            <input type="checkbox" onchange="changeLRbind(this)" id="lrCheckbox" /> L/R bind
        </label>
        <br>
        <label>
            <input type="checkbox" onchange="changeMCbind(this)" id="mcCheckbox" /> M/C bind
        </label>
    </div>
    <div>
        <textarea id="inputCode" cols="30" rows="10"></textarea>
    </div>
    <div>
        <button onclick='getData()'>get data</button>
        <button onclick='renderData()'>render data</button>
    </div>
    <script src="js/lib/pixi.js/bin/pixi.min.js"></script>
    <script src="js/lib/stats.js-master/build/stats.min.js"></script>
    <script src="js/warjack_box.js"></script>
    <script>
    var loader = PIXI.loader;

    loader.add("source/satellite.fnt");
    loader.add("source/crackhouse.fnt");
    loader.add("source/templar.fnt");
    // loader.once('complete', onAssetsLoaded);

    loader.load();

    var inputCode = document.getElementById('inputCode'),
        lrCheckbox = document.getElementById('lrCheckbox'),
        mcCheckbox = document.getElementById('mcCheckbox');
    var wj = new warjackBox();

    lrCheckbox.checked = wj.LRbind;
    mcCheckbox.checked = wj.MCbind;

    wj.init();

    function gb(b) {
        wj.getBrush(b);
    }

    function resetTb() {
        wj.resetTable();
    }

    function changeMode(element) {
        wj.mirrorMode = element.checked;
    }

    function getData() {
        var _data = wj.getDataArray();
        inputCode.value = _data.join("\n");
    }

    function renderData() {
        var _data = inputCode.value;
        wj.transferAndRender(_data);
    }

    function changeDisplayMode(_mode) {
        wj.changeMode(_mode, function() {
            lrCheckbox.checked = wj.LRbind;
            mcCheckbox.checked = wj.MCbind;
        });
    }

    function changeLRbind(element) {
        wj.LRbind = element.checked;
    }

    function changeMCbind(element) {
        wj.MCbind = element.checked;
    }
    </script>
</body>

</html>
